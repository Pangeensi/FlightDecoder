# FlightDecoder
基于FlightAware和WireShare的ADS-B本地解码项目。

程序通过提取指定样本文件获取数据，然后完成对数据的解码保存等工作。

样本同工程仓库一并保存，在使用时需要单独提取并保存在指定路径。

样本文件路径路径：D:/FlightAwareData/SampleGroup/sample1660

欢迎点小:star::star:

### 运行环境：Visual Studio 2019及其以上。

以下为开发版本说明:

## v1.24:
```
版本说明：
尝试构造帧内的帧数据与负载分离。

开发日志：
HTTP帧的帧结尾码可以使用 5018 0ff5 xxxx 0000
TCP帧的帧结尾码可以使用 5010 0ff5 xxxx 0000
尝试构造帧结尾码的重新装填函数和同步函数。
发现之前的帧同步函数只是逐比特进行判别，保存路径交由上层控制。
发现各协议栈和各帧同步码名称不匹配。
栈改名完成，栈的注释没有修改完成，数据数组的名称与栈不一致。
完成所有名称的修改。

实现情况：
上传一次，下一版继续实现版本目标。
```

## v1.23:
```
版本说明：
尝试统一Message类的帧及帧同步码名称。

开发日志：
考虑帧头帧尾的处理方式和帧同步帧校验不同，具体为保存路径不同未同步时保存路径不同。
尝试进行代码整体梳理。

实现情况：
完成，上传一次。
```

## v1.22:
```
版本说明：
尝试对Message类进行整理，为之后提取帧数据进行铺垫。

开发日志：
尝试将相关的顺序进行调整。
尝试将关键字和帧的重新装填写成底层。
尝试将帧同步写成底层。
尝试使用函数指针来指定重新加载函数。
要求使用成员函数指针来进行调用，否则指向空内存。
不是成员函数的问题。
发现修改后syn函数失能。
放弃对syn函数的底层实现。
尝试对两种分类函数用不到的情况进行删减。

实现情况：
完成。
```

## v1.20:
```
版本说明：
尝试对数据进行转码。

开发日志：
尝试构建ASCII表并进行转化试验。

实现情况：
完成解码显示。
```

## v1.19:
```
版本说明：
尝试找出样本长度超过一定距离就会提取错误的原因。

开发日志：
发现是读取HTTP和读取TCP的顺序有误，似乎输出遍历先输出所有HTTP，再输出TCP，这就导致了如果存在多个Message帧，就会出现错误输出。
发现可能真是情况为列表首尾颠倒。
以前驱插入改为以后继插入后，功能正常。

实现情况：
完成。
```

## v1.18:
```
版本说明：
尝试构建一个短样本来进行测试。

开发日志：
尝试将存储显示开放，进行比对。
短样本中HTTP保存读取成功。
短样本中TCP可以保存但没有触发读取。
发现TCP规模的计数器失能。
短样本中TCP保存读取成功。
长样本中输入输出和之前一样不符合。
尝试增加短样本长度，找到出现问题的分界点。
尝试构建不同长度的样本，找到问题的分界点。
行数为702出现乱码，失能行数为696，可用行数为689。

实现情况：
下一版尝试分析原因。
```

短样本的路径进行了更改，同时短样本的测试文件包和测试结果也一并上传。

另外在长度为702时会发生内存溢出现象。

## v1.17:
```
版本说明：
尝试进行数据读取并对问题进行重新定位。

开发日志：
发现部分数据可以读取，尝试整理数据格式。
HTTP遍历数据无效，考虑是否数据没有保存。
Message类的重复创建成为主要问题。
如果不使用new进行动态内存分配，那么在一次循环结束后，对象就会被析构。
似乎完成了数据的读取。
尝试将遍历格式进行调整。
检查读取与存储的帧的数量和大小。

实现情况：
应该有大量的逻辑错误和存储顺序、读取顺序错误。
```

## v1.16:
```
版本说明：
对列表的特性进行测试。

开发日志：
发现msgListNode的new和delete不匹配。
尝试按照例程来进行析构。
发现可能是列表构造时指向有问题。
证实列表节点的构建混乱。
将部分完成验证的列表构造与原来列表构造进行比对。
1.使用结构指针引导的new操作来创建了新的列表节点结构。
2.在前驱插入和后继插入中分别声明了对后继的前驱和前驱的后继的指向。

实现情况：
尝试进行数据读取并对问题进行重新定位。
```

## v1.15:
```
版本说明：
尝试完成数据的遍历。

开发日志：
发现在向量遍历之上要做更多的封装。
发现无法遍历的原因之一可能是Message被析构。
目前为循环中的Message被创建后进行数据录入，循环结束就被析构。
无法遍历的另一个原因是定位失败。

实现情况：
尝试首先彻底检查列表的正确性，其次寻找循环中创建对象的方法。
```

## v1.14:
```
版本说明：
尝试实现数据的存取。

开发日志：
尝试首先封装HTTP。
尝试对HTTP规模进行封装。
尝试仿照HTTP对TCP的数据存储进行构造。
发现TCP帧不自增。

实现情况：
完成。
```

## v1.13:
```
版本说明：
尝试在列表构造中直接将Message进行初始化。

开发日志：
发现并没有用，应当在构造中完成对Message内容的填写。
出现expand()中的内存错误。
对Message的重复定义暂时解决了析构问题。

实现情况：
尝试对数据进行保存和遍历。
```

## v1.12:
```
版本说明：
尝试先对push和pop的正确性进行校验。

开发日志：
尝试构造Message列表。
对列表进行修正和测试。
目前考虑使用Message指针列表
发现在Vector进行expand时出现堆错误。
考虑炸掉的原因可能是delete[]一个空指针。
尝试对可能的地方进行初始化
发现Message()没有具体实例化的话会直接析构。

实现情况：
考虑在下一版中将msgList特化成MessageList。
```

## v1.11:
```
版本说明：
尝试调整分类情况，并实现存储。

开发日志：
发现每次同步后都会校验。
尝试先读头，定位完成后开始收集。
尝试读一帧Message
尝试HTTP引导TCP，TCP进行检查。
首先尝试对HTTP导引进行裁剪。
HTTP裁剪必要性不大，考虑在TCP校验出错后把数据吐回去。
吐只能吐校验位，吐不出帧同步。考虑延长缓存的生命周期。
吐回去发生错误。
发现校验字填充有误。
开始时就要填充一波。

实现情况：
解决了校验字有误的问题，但是吐回去发生错误的问题没有验证。
```

## v1.10:
```
版本说明：
尝试在每一次帧同步都加入数据读取。

开发日志：
尝试在帧捕获TCP校验中判断当前标志，并据此录入数据。
尝试根据分类输出数据。
发现存在hex码转字符串的问题。
尝试保存或虑去暂时无用的帧头。

实现情况：
数据分类标准暂有问题。
数据保存思路暂不确定。
```

## v1.9:
```
版本说明：
尝试读取每一帧的文本内容。

开发日志：
尝试每一帧dummy 76 bit，然后读取剩下的。
在读取文本时，应每读取一次检查一次帧同步
尝试在Message层写帧同步和数据封装的过程。

实现情况：
```

## v1.8:
```
版本说明：
完成帧同步和TCP校验的清洁版本。

开发日志：

实现情况：
完成。
```

## v1.7:
```
版本说明：
尝试对sample进行数据清洗，然后对清洗过的数据进行帧同步和TCP校验。

开发日志：
原始数据考虑改成队列。
尝试新数据栈加一个reverse。
尝试修复Stack的empty。
完成了TCP的校验，从另一个角度讲同步帧的捕获正确。

实现情况：
下一版中清理格式。
```

## v1.6:
```
版本说明：
尝试以文本的方式读取sample数据。

开发日志：
尝试将TCP校验提到Message层。
尝试重新写帧同步的逻辑。
尝试重新编写帧同步装填函数。
可以完成帧同步，但是数据混乱。
发现有帧会被\r\n截断，所以需要先做数据清洗。

实现情况：
下一版先加载底层，然后恢复empty()，然后清洗数据，最后重写。
```

## v1.5:
```
版本说明：
尝试用一组伪数据亦步亦趋进行实现。

开发日志：
尝试制作小份的数据样本，包括数据头乱码，HTTP和TCP。
首先信息存储单元需要和数据进行帧同步，尝试将帧同步数据提升到信息层。
发现不能在构造的时候构造子类。
发现构造函数不能多次使用，尝试在栈中加入批量填充，或首先先不封装的批量填充
1.需要解决pop时的内存溢出问题
2.需要考虑改变读取字符的格式。
尝试先继续往下写，读完一帧。
发现每次判别同步帧之后都会启动一个Vector的析构函数，导致异常。
启动的析构函数是形参类的析构函数，所以以后要注意类不能做形参，要改成类指针。

实现情况：
完成一次帧捕获。
```

另外：在此版本中，测试文件换为了生成的sanple文件，同样也放在项目中一共提取，测试时应放置到指定路径。


## v1.4:
```
版本说明：
尝试实现数据的文本化提取

开发日志：
尝试将整数据文件读到数组当中。
尝试将数据封装到栈当中。
尝试构造Message类，来统筹HTTP和TCP
读写混乱，尝试先存取数据。

实现情况：
之后尝试用一组伪数据亦步亦趋进行实现。
```

## v1.3:
```
版本说明：
尝试构造TCP类并进行一般性测试

开发日志：
顺便创建HTTP类

实现情况：
```

## v1.2:
```
版本说明：
尝试修改栈中基于封装的构造，实现外部输入首尾值。
尝试构造TCP和HTTP类。

开发日志：
完成基于封装的修改的构造。
发现TCP和HTTP可以基于向量类进行构造，可以先构造向量类，并继承Stack类。
基本完成向量构造和继承，尝试进行稳定性的检查。
尝试构造TCP类。

实现情况：
TCP类需要做大量测试，保存至下一版本
```

## v1.1:
```
版本说明：
尝试完成pcap文件的解码。

开发日志：
考虑流程为帧同步->判决->数据提取->转码。
考虑使用堆栈存储原始数据。
尝试构造堆栈模块

实现情况：
同一行内使用cout输出流会出现pop顺序颠倒的情况
基于封装的构造宜改为三个输入：指针，起始秩，终结秩哨兵
```

## v1.0:
```
版本目标：
尝试完成完整的数据读取与校验，使之成为可读的char数组存储。

开发日志：

实现情况：
完成读取。
```

## v0.0:
```
版本说明：
初步实现了hex文件的读取,并且实现了项目的丢失，项目结束。
```
